<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>reveal.js</title>

  <link rel="stylesheet" href="dist/reset.css">
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/solarized.css">
  <link rel="stylesheet" href="css/custom.css">

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="plugin/highlight/monokai.css">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <!-- ------------- Cover ------------------ -->
      <section data-transition="zoom" data-auto-width data-auto-height>
        <div style="display: flex; justify-content: space-around; align-items: center; margin-bottom: 20px;">
          <img src="assets/Logos/URV.png" alt="URV" style="max-width: 25%; height: auto;" />
          <img src="assets/Logos/UB.png" alt="UB" style="max-width: 25%; height: auto;" />
          <img src="assets/Logos/UPC.png" alt="UPC" style="max-width: 25%; height: auto;" />
        </div>

        <h3 class="fragment" style="color: #79b6c9; margin-bottom: 0%;" data-fragment-index="0">FROM RULES TO REWARDS</h3>
        <h2 class="fragment" data-fragment-index="0">AI PATH PLANNING FOR AUTONOMOUS DRIVING WITHIN THE CARLA-APOLLO FRAMEWORK</h2>
        <p style="font-size: 30px;">MASTER IN ARTIFICIAL INTELLIGENCE | MARIO ROSAS OTERO</p>
        <p style="font-size: 20px;">Supervised by: Axel Brando (BSC-CNS) & Enrico Mezzetti (BSC-CNS) |  Tutor: Miquel Moret√≥ (UPC) </p>

        <img src="assets/Logos/BSC-blue-large.png" alt="URV" style="max-width: 25%; height: auto; margin-top: 0%;" />
        
      </section>

      <!-- ------------- Slide 1 ------------------ -->
      <section>
        <section>
          <h2>Motivation</h2>
          <ul class="fade-right">
            <li class="items" align="justify">Technology evolution has enabled safer, more efficient and reliable transportation.</li>
            <li class="items" align="justify">Driving is generally considered a manageable task for most people. Replicate this ability through autonomous systems present sigificantly more complex challenge.</li>
            <li class="items" align="justify">Among all the challenges in auonomous driving, path planning remain some critical ones.</li>
          </ul>
            <img class="fragment" src="./assets/CARLA_SC1_crop.gif" alt="Italian Trulli" style="max-width: 32%; height: auto;">
            <img class="fragment" src="./assets/CARLA_SC2_crop.gif" alt="Italian Trulli" style="max-width: 33%; height: auto;">
            <img class="fragment" src="./assets/CARLA_SC3_crop.gif" alt="Italian Trulli" style="max-width: 33%; height: auto;">
            <p class="fragment" style="font-size: 30px;">Requirements: <i>Real-time decision-making</i> | <i>Adaptability</i> | <i>Safety</i></p>
            <p style="position: absolute; left: 0; right: 0; text-align: left; font-size: 14px; color: gray;">
              Images reproduced from <a href="https://example.com" target="_blank" style="color: gray; text-decoration: underline;">leaderboard.carla.org/</a>
            </p>
        </section>

        <section>
          <h2>CONTEXT</h2>
          <p>
            Path planning as a core function of autonomy involves
            <i>generating an optimal and safe trajectory</i>
            for a vehicle based on environmental and traffic constraints.
          </p>

          <!-- Flex container for side-by-side cards -->
          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin-top: 20px;">
            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">Classical Approach</p>
                  </div>
                </div>
                <div class="bottom">
                  <ul class="items">
                    <li align="justify" style="font-size: 20px;"><i>Optimization-based.</i></li>
                    <li align="justify" style="font-size: 20px;"><i>Structured Environments.</i></li>
                    <li align="justify" style="font-size: 20px;"><i>Lack of Flexibility and Situational Awareness.</i></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="fragment card" style="flex: 1;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">Learning-Based Approach</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #ACE5EE;">
                  <ul class="items">
                    <li align="justify" style="font-size: 20px;">Data-driven, context-aware decision-making.</li>
                    <li align="justify" style="font-size: 20px;">Handles uncertainty and complexity.</li>
                    <li align="justify" style="font-size: 20px;">Adaptable to novel situations.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section>
            <h2>GOAL</h2>
            <p>Explore how <b>learning-based planners</b> can be integrated into a <b>modular autonomous driving platform</b> and evaluated within <b>realistic simulation</b>.</p>
        </section>
      </section>

      <!-- ------------- Slide 2 ------------------ -->
      <section style="font-size: 32px;">
        <h2>Research Aims & Objectives</h2>
        Evaluate the <span class="fragment highlight-blue">effectiveness of AI-based path planning using DRL and IL models </span><span class="fragment highlight-red">integrated into the Apollo framewok</span>, and <span class="fragment highlight-blue">benchmark them against its integrated EM planner</span> <span class="fragment highlight-red">using CARLA simulation</span>.       
      </section>

      <!-- ------------- Slide 3 ------------------ -->

      <section>
        <h2>Proposed Solution</h2>
          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin-top: 20px;">
            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 275px;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">UNDERSTAND</p>
                  </div>
                </div>
                <div class="bottom">
                  <ul class="items">
                    <i>Apollo's architecture, focusing on the planning module's structure and functionalities.</i>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 275px;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">ADAPT</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #ACE5EE;">
                  <ul class="items">
                  Current DRL/IL End-to-End models to be integrated into Apollo's planning stack.
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 3 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 275px;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">DESIGN</p>
                  </div>
                </div>
                <div class="bottom">
                  <ul class="items">
                    <i>Specific routes within CARLA environemnts to run valuable experiments.</i>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin-top: 20px;">

            <!-- Card 2 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 275px;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">TRAIN / REFINE</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #ACE5EE;">
                  <ul class="items">
                    The selected models to perform on the designed scenarios.
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 275px;">
              <div class="content">
                <div class="middle">
                  <div>
                    <p class="card_p" style="font-size: 80%;">EVALUATE</p>
                  </div>
                </div>
                <div class="bottom">
                  <ul class="items">
                  <i>The AI-based Planners using specialized metrics:</i>
                    <li align="justify" style="font-size: 20px;"><i>Driving behavior.</i></li>
                    <li align="justify" style="font-size: 20px;"><i>Apollo System Level.</i></li>
                    <li align="justify" style="font-size: 20px;"><i>Visual Assesments.</i></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
            
      </section>
      
      <!-- ------------- Slide 4 ------------------ -->
      <section>
        <section>
          <h2>Background</h2>
        </section>
        
      <section>
        <h4>What is Planning in Robotics and Autonomous Driving?</h4>
        <p style="font-size: 32px;">
          <i>Planning</i> is the process of <i>selecting a sequence of actions</i> that transform a system
          <i>from an initial state to a desired goal state</i>, respecting constraints and optimizing objectives.
        </p>

        <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 40px;">
          
          <!-- LEFT COLUMN -->
          <div class="left" style="flex: 1;">
            <ul class="fade-down items">
              <li class="items" align="justify" style="color: #3B444B;"><b>In Autonomous Driving:</b></li>
              <ul class="fragment" data-fragment-index="1">
                <li align="justify"><i>Planning</i> = determine how to move safely and efficiently within a complex dynamic environment.</li>
                <li align="justify">In AD systems, planning is usually splittes into 3 main subtasks.</li>
              </ul>
              <li class="items" align="justify"><b>Challenges</b></li>
              <ul class="fragment">
                <li align="justify">Must account for traffic rules, dynamic obstacles, vehicle limits, and safety margins.</li>
                <li align="justify">Needs to operate in real time, often under uncertainty and partial observability.</li>
              </ul>
            </ul>
          </div>

          <!-- RIGHT COLUMN -->
          <div class="right" style="position: relative; width: 45%; display: flex; justify-content: center; align-items: center;">
            <!-- Base image -->
            <img src="./assets/Planning tasks.png" alt="Planning tasks" style="width: 100%; display: block;">

            <!-- Overlay image as fragment -->
            <img class="fragment" data-fragment-index="2" src="./assets/Planning tasks mod.png" alt="Overlay image"
                 style="position: absolute; top: 0; left: 0; width: 100%; height: auto;">
          </div>
        </div>
      </section>
       
      <section>
        <h3>Classical Planning in Autonomous Driving</h3>
          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin-top: 20px;">
            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 162px; background: linear-gradient(#A3C1AD, #A3C1AD)">
              <div class="content">
                <div class="middle" style="background: linear-gradient(#A3C1AD, #A3C1AD);">
                  <div>
                    <p class="card_p" style="font-size: 80%;">GRAPH-BASED SEARCH</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #fdf6e3;">
                  <ul class="items">
                    <i style="font-size: 18px;">Graph discretization + Search Algorithm</i>
                    <li align="justify" style="font-size: 15px;">Fast, complete but often ignore dynamics.</li>
                    <li align="justify" style="font-size: 15px;">Advanced: Hybrid A*, State Lattice, D*.</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 162px; background: linear-gradient(#A3C1AD, #A3C1AD)">
              <div class="content">
                <div class="middle" style="background: linear-gradient(#A3C1AD, #A3C1AD);">
                  <div>
                    <p class="card_p" style="font-size: 80%;">OPTIMIZATION</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #fdf6e3;">
                  <ul class="items">
                    <i style="font-size: 18px;">Solve constrained problems, minimize cost</i>
                    <li align="justify" style="font-size: 15px;">Widely used: Model Predictive Control.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin-top: 20px;">
            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 162px; background: linear-gradient(#A3C1AD, #A3C1AD)">
              <div class="content">
                <div class="middle" style="background: linear-gradient(#A3C1AD, #A3C1AD);">
                  <div>
                    <p class="card_p" style="font-size: 80%;">SAMPLING-BASED</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #fdf6e3;">
                  <ul class="items">
                    <i style="font-size: 18px;">Random Exploration</i>
                    <li align="justify" style="font-size: 15px;">Good for structured/tight spaces.</li>
                    <li align="justify" style="font-size: 15px;">Requires smoothing or heuristics.</li>
                    <li align="justify" style="font-size: 15px;">Common methods: RRT, PRM.</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 162px; background: linear-gradient(#A3C1AD, #A3C1AD)">
              <div class="content">
                <div class="middle" style="background: linear-gradient(#A3C1AD, #A3C1AD);">
                  <div>
                    <p class="card_p" style="font-size: 70%;">ANALYTICAL/CURVE-BASED</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #fdf6e3;">
                  <ul class="items">
                    <i style="font-size: 18px;">Fast methods: splines, polynomials, clothoids</i>
                    <li align="justify" style="font-size: 15px;">Fast but may get stuck.</li>
                    <li align="justify" style="font-size: 15px;">Modeling agent as particles: APFs.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div style="display: flex; justify-content: space-around; align-items: stretch; gap: 30px; margin: 20px auto 0 auto; width: 50%;">
            <!-- Card 1 -->
            <div class="fragment card" style="flex: 1; width: 30%; height: 162px; background: linear-gradient(#A3C1AD, #A3C1AD)">
              <div class="content">
                <div class="middle" style="background: linear-gradient(#A3C1AD, #A3C1AD);">
                  <div>
                    <p class="card_p" style="font-size: 80%;">MODERN APPROACHES</p>
                  </div>
                </div>
                <div class="bottom" style="background-color: #fdf6e3;">
                  <ul class="items">
                    <i style="font-size: 18px;">Improve Optimality</i>
                    <li align="justify" style="font-size: 15px;">Popular methods: CHOMP,TrajOpt,BIT*.</li>
                    <li align="justify" style="font-size: 15px;">Blend control, sampling, optimization.</li>
                    <li align="justify" style="font-size: 15px;">Still rule-driven.</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <i class="fragment fade-in" style="font-size: 50%;">‚Üí Poor generalization under ambiguity | Hard to tune manually for all edge cases.</i>
      </section>
      
        <section>
          <h2>Learning-Based Planners</h2>
          <div class="slide-subtitle" style="margin-bottom: 1%;">
            DRL and IL offer data-driven, adaptive policies for complex behaviors.
          </div>

          <div class="fragment classical-grid" style="margin-bottom: 1%;">
            <!-- Left Column -->
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content" style="margin-bottom: 1%;">
                <div class="block-title">üìå Deep Reinforcement Learning (DRL)</div>
                <img src="assets/DRL_2.png" alt="Apollo Stack Diagram" style="max-width: 72%; height: auto; margin: 0%;" />
              </div>
            </div>

            <!-- Right Column -->
            <div class="classical-column" style="margin-bottom: o%;">
              <div class="block-content" style="margin-bottom: 1%;">
                <div class="block-title">üìå Imitation Learning (IL)</div>
                <img src="assets/IL_3.png" alt="Apollo Stack Diagram" style="max-width: 67%; height: auto; margin: 0%;" />
              </div>
            </div>
          </div>

          <!-- Benefits vs Trade-Offs Table -->
          <table class="fragment styled-table" style="margin-top: 30px;">
            <thead>
              <tr>
                <th>Key Benefits</th>
                <th>Drawbacks</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Learns <i>adaptable, context-aware</i> behavior</td>
                <td>Needs <i>extensive training</i> & simulation infrastructure</td>
              </tr>
              <tr>
                <td>Handles <i>uncertainty</i> and multi-agent environments</td>
                <td>Often lacks <i>formal safety guarantees</i></td>
              </tr>
              <tr>
                <td><i>Real-time inference</i> once trained</td>
                <td>Can <i>overfit</i> or act unpredictably in novel settings</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3>APOLLO: A Modular Autonomous Driving Stack</h3>
          <div class="slide-subtitle">Open-source full-stack AV system (Baidu)</div>
          <ul class="fade-down items">
            <li align="justify">Built on <i>Cyber RT</i> ‚Äì real-time pub-sub middleware for module communication.</li>
            <li align="justify">Modular Design: Each component operates <i>independently</i>.</li>
          </ul>

            <div id="apollo-image" style="text-align: center;">
              <img src="assets/Apollo_Modules_Interaction_bg.png" alt="Apollo Stack Diagram" style="max-width: 80%; height: auto; margin: 0%;" />
            </div>

          <!-- Summary -->
          <div class="fragment footer-note" style="margin-top: 0%;">
            <i>Apollo</i> is widely used for research and prototyping due to its open source availability,<br> flexibility,
            traceability, and support for various planning architectures.
          </div>
        </section>

        <section>
          <h2 class="slide-title">Planning in Apollo</h2>
          <!-- <div class="block-title">Architecture: Hierarchical</div> -->
              <ul class="items">
                <li>Planning module = decision-making core (~10 Hz).</li>
                <li>Takes input from: <i>Perception, Prediction, Localization, Routing, HD Maps, Chassis.</i></li>
              </ul>
            <div class="left">
              <div class="block-content">
                <ul class="items">
                  <li><b>Planning architecture</b>:</li>
                  <ul class="fragment items" data-fragment-index="1">
                    <li><i>Scenario Manager</i>: selects driving context (<em>lane follow, stop sign</em>).</li>
                    <li><i>Deciders</i>: enforce <i>traffic rules</i> and constraints.</li>
                    <li><i>Optimizers</i> (e.g., <i>EM Planner</i>): smooth trajectory.</li>
                  </ul>
                  <li><b>EM Planner (Expectation-Maximization)</b></li>
                  <ul class="fragment items" data-fragment-index="2">
                    <li><i>SL (Space-Lane)</i> ‚Üí lateral trajectory planning.</li>
                    <li><i>ST (Space-Time)</i> ‚Üí speed profile planning.</li>
                    <li>Iterative EM cycle <i>refines trajectory until convergence</i>.</li>
                    <li><i>Multi-lane evaluation</i> and <i>fallback strategies</i>.</li>
                  </ul>
                </ul> 
              </div>
            </div>

            <div class="fragment right" data-fragment-index="2">
              <img src="assets/EM_iteration_bg.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 8% 5%;" />
            </div> 
        </section>

       <section>
          <h3> Simulation Environment: CARLA</h3>
          <div class="slide-subtitle">
            CARLA is an open-source AV simulator developed by CVC-UAB, designed for research and development in autonomous driving.
          </div>

            <!-- Right Column -->
            <div class="left">
              <br>
              <div class="block-content">
                <div class="block-title">üìå Key Features for this Project</div>
                <ul class="items">
                  <li><i>High-fidelity</i> urban environments.</li>
                  <li>Simulates <i>diverse</i> and challenging <i>road scenarios</i>.</li>
                  <li>Accurate <i>vehicle dynamics</i>.</li>
                  <li>Wide range of <i>sensors</i>: RGB, LiDAR, IMU, GPS</li>
                  <li>Modular server‚Äìclient architecture:</li>
                </ul>
              </div>
            </div>

          <div class="right footer-note" style="margin: 0%;">
            <img src="assets/CARLA_SIM.gif" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
          </div>
        </section>
      </section>

      <!-- ------------- Slide 5 ------------------ -->
      <section>
        <section>
          <h2>Methodology</h2>
        </section>

        <section>
          <h3>DRL Model: Latent Soft Actor-Critic (L-SAC)</h3>
          <div class="slide-subtitle">Combines a deep RL policy with a sequential latent representation of the scene.</div>
          <div class="right">
            <ul class="items">
              <li><i>Inputs</i>: Front-view RGB + LiDAR BEV projection.</li>
              <li><i>Latent Modeling</i>:</li>
              <ul class="items">
                <li>Learns a compact environment state via variational inference.</li>
                <li>Supports interpretable semantic mask decoding.</li>
              </ul>
              <li><i>Policy Learning</i>:</li>
              <ul class="items">
                <li>Soft Actor-Critic with entropy regularization.</li>
                <li>Outputs predicted trajectory displacements + target speeds.</li>
                <li>Reward balances safety (collision, lane keeping) with comfort (smoothness, speed).</li>
              </ul>
            
            </ul>
          </div>
          <div class="left">
            <img src="assets/DRL_Diagram.png" alt="Apollo Stack Diagram" style="max-width: 95%; height: auto; margin: 0%;" />
          </div>
        </section>

        <section>
          <h3>IL Model: TransFuser++</h3>
          <div class="slide-subtitle">Transformer-based Imitation Learning model for end-to-end urban driving.</div>
          <div class="left">
            <ul class="items">
              <li><i>Inputs</i>:</li>
              <ul class="items">
                <li>RGB images (front-facing camera).</li>
                <li>LiDAR BEV + auxiliary data.</li>
                <li>Navigation commands.</li>
                <li>Current vehicle speed.</li>
              </ul>
              <li><i>Fusion Strategy</i>:</li>
              <ul class="items">
                <li>Modality-specific encoders.</li>
                <li>Transformer attention for cross-modal fusion.</li>
                <li>Decoder pooling to retain spatial structure.</li>
              </ul>
              <li><i>Predictions</i>:</li>
              <ul class="items">
                <li>Waypoints (future positions relative to ego).</li>
                <li>Discrete target speeds with confidence estimation.</li>
              </ul>
              <li><i>Training</i>:</li>
              <ul class="items">
                <li>Supervised on expert trajectories from CARLA.</li>
                <li>MSE (waypoints), cross-entropy (speed bins).</li>
              </ul>
            </ul>  
          </div>
          <div class="right">
            <img src="assets/Transfuserpp_bg.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
            <p style="font-size: 15px; margin-top: 0px; ">TransFuser++ Architecture Overview. Reproduced from Jager et al. (2023b)</p>
          </div>
        </section>

        <section>
          <h3>System Integration: Bridging CARLA and Apollo</h3>
          <div class="fragment classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">
            <div class="block-content">
              <div class="block-title">üìå CARLA‚ÄìApollo Bridge Setup</div>
              <ul class="fragment items">
                <li>A customized <i>carla_apollo_bridge</i> connects the CARLA simulator with the Apollo stack.</li>
                <li>Translates simulated sensor data to Apollo‚Äôs <i>cyberRT</i> format.</li>
                <li>Sends Apollo's control/planning outputs back to CARLA for closed-loop simulation.</li>
              </ul>
            </div>
            </div>
            <div class="classical-column" style="margin-bottom: 0%;">
            <div class="block-content">
              <div class="block-title">üìå Key Requirements for Synchronization</div>
              <ul class="fragment items">
                <li><i>Synchronous mode</i>: Guarantees frame-by-frame consistency between CARLA and Apollo.</li>
                <li><i>Matching vehicle profile</i>: Ensures geometry and dynamics between CARLA and Apollo align.</li>
                <li><i>Timestamps and message formatting</i>: Prevents dropped messages and outdated data.</li>
              </ul>
            </div>

          </div>
          </div>
          <div class="block-content">
              <div class="block-title">üìå Pipeline Snapshot</div>
              <img src="assets/carla_apollo_bridge_diagram.jpg" alt="Apollo Stack Diagram" style="max-width: 80%; height: auto; margin: 0%;" />
            </div>
        </section>

        <section>
          <h3>Planner Pipeline: From Sensor Input <br>to Executable Trajectory</h3>
            <div class="block-content">
              <div class="block-title">üìå <i>bridge_model_node</i>: Data Extraction</div>
              <ul class="fragment items">
                <li>Subscribes to Apollo topics (pose, camera, LiDAR, GPS, routing).</li>
                <li>Consolidates and repackages into a custom message format.</li>
              </ul>
            </div>

          <div class="classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">
            <div class="block-content">
              <div class="block-title">üìå <i>model_server</i>: Preprocessing + Inference</div>
              <ul class="fragment items">
                <li>Converts raw data into tensors:</li>
                <ul>
                <li>RGB: image ‚Üí tensor.</li>
                <li>LiDAR: BEV histogram.</li>
                <li>Routing + GPS: target waypoint + navigation command.</li>
                </ul>
                <li>Feeds into DRL/IL model ‚Üí returns waypoints & target speed.</li>
              </ul>
            </div>
            </div>
            <div class="classical-column" style="margin-bottom: 0%;">
            <div class="block-content">
              <div class="block-title">üìå <i>model_planner_node</i>: Trajectory Synthesis</div>
              <ul class="fragment items">
                <li>Uses latest localization to convert predicted points to global coordinates.</li>
                <li>Optionally applies spline smoothing.</li>
                <li>Constructs complete <i>ADCTrajectory</i> message with:</li>
                <li>Publishes to <i>/apollo/planning.</i></li>
              </ul>
            </div>
          </div>
          </div>
           <div class="fragment footer-note">
            If no prediction is received within 500ms, no trajectory is published to ensure safety.
            <!-- <i>‚Üí Need for learning-based approaches to handle unpredictability.</i> -->
          </div>
        </section>

        <section>
          <h4>Performance Evaluation: Metrics for Planning Quality</h4>
            <div class="block-content">
              <div class="block-title">üìå Driving Behavior Metrics (based on CARLA Leaderboard \cite{leaderboard2020})</div>             
              <table class="fragment styled-table">
                <thead>
                  <tr>
                    <th>Category</th>
                    <th>Metrics</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong>Effectiveness</strong></td>
                    <td>Route Completion (RC), Driving Score (DS)</td>
                  </tr>
                  <tr>
                    <td><strong>Safety</strong></td>
                    <td>Vehicle (Veh) and Static (Stat) Object Collisions</td>
                  </tr>
                  <tr>
                    <td><strong>Rule Compliance</strong></td>
                    <td>Infraction Score (IS), Red Light Violations (Red), Route Deviations (Dev)</td>
                  </tr>
                  <tr>
                    <td><strong>Efficiency</strong></td>
                    <td>Trip Duration (TD), Average Speed (AS)</td>
                  </tr>
                </tbody>
              </table>
            </div>

          <div class="left" style="width: 60%;">
            <div class="classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">

            <div class="block-content">
              <div class="block-title">üìå Qualitative Assesments</div>
              

              <img src="assets/Apollo_sim.gif" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
              <img src="assets/Apollo_sim2.gif" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
            </div>
            </div>
          <div class="classical-column" style="margin-bottom: 0%;">

            <div class="block-content">
              <br><br><br>
              <img src="assets/CARLA_SIM_UP.gif" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
            </div>
            </div>
            </div>
            </div>

          <div class="right" style="width: 35%;">
              <div class="block-title">üìå Apollo System-Level Metrics</div>
              <ul class="fragment items">
                <li><i>Planning Cycle Time</i>: Avg. time per trajectory planning cycle.</li>
                <li><i>Planning Success Rate</i>: % of valid trajectory outputs.</li>
                <li><i>Control Latency</i>: Delay between planning and control execution.</li>
                <li><i>Planning Stability</i>: Consistency of system state (PAD readiness).</li>
              </ul>
            </div>
        </section>

      </section>

      <!-- ------------- Slide 6 ------------------ -->
      <section>
        <section>
          <h2>Experimental Setup</h2>
        </section>

        <section>
          <h3>Experimental Design & Setup</h3>

          <div class="classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Experimental Tracks</div>
                <ul class="items">
                  <li>Three planning pipelines integrated and tested:</li>
                  <ul class="items">
                    <li><i>Track A</i>: Classical EM Planner (baseline).</li>
                    <li><i>Track B</i>: DRL-based Latent SAC model.</li>
                    <li><i>Track C</i>: IL-based TransFuser++ model.</li>
                  </ul>
                </ul>
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Repetition for Reliability</div>
                <ul class="items">
                  <li>Each segment executed multiple times per planner.</li>
                  <li>Allows for assessment of consistency and generalization.</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section>
          <h3>Experimental Routes: Route A (Town01)</h3>
          <div class="left">
            <img src="assets/routes/RouteT1_A1.png" alt="Apollo Stack Diagram" style="max-width: 90%; height: auto; margin: 0%;" />
            <p style="font-size: 20px; margin-top: 0px; "><b>Top-down view of Route A layout.</b></p>
          </div>
          <div class="right">
            <div class="classical-grid" style="margin-bottom: 1%;">
              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Residential segment near Start.</div>
                  <img src="assets/routes/Town1_1.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
                <div class="block-content">
                  <div class="block-title">üìå Approaching traffic light intersection.</div>
                  <img src="assets/routes/Town1_2.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>

              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Right turn zone with occlusion.</div>
                  <img src="assets/routes/Town1_3.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
                <div class="block-content">
                  <div class="block-title">üìå Long straight way with limited visibility.</div>
                  <img src="assets/routes/Town1_5.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>
            </div>
            <ul class="items">
              <li><i>Environment</i>:</li>
              <ul class="items">
                <li>Suburban-style city with a structured road grid.</li>
                <li>Mix of residential and semi-open areas.</li>
                <li>Signalized intersections, sidewalks, and varied visibility zones.</li>
              </ul>
            </ul>
          </div>
        </section>

        <section>
          <h3>Experimental Routes: Route B (Town03)</h3>
          <div class="left">
            <br>
            <img src="assets/routes/RouteT3_A1.png" alt="Apollo Stack Diagram" style="max-width: 90%; height: auto; margin: 0%;" />
            <p style="font-size: 20px; margin-top: 0px; "><b>Top-down view of Route B layout.</b></p>
          </div>
          <div class="right">
            <div class="classical-grid" style="margin-bottom: 1%;">
              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Inclined entry road from start point.</div>
                  <img src="assets/routes/Town3_1.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
                <div class="block-content">
                  <div class="block-title">üìå Slope descent near residential sector.</div>
                  <img src="assets/routes/Town3_3.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>

              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Main roundabout in the urban core.</div>
                  <img src="assets/routes/Town3_4.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
                <div class="block-content">
                  <div class="block-title">üìå Wide intersection in the final segment.</div>
                  <img src="assets/routes/Town3_5.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>
            </div>
            <ul class="items">
              <li><i>Environment</i>:</li>
              <ul class="items">
                <li>Compact city downtown core.</li>
                <li>Elevation changes, multi-lane roads, large roundabouts.</li>
                <li>High-rise buildings, overpasses.</li>
              </ul>
            </ul>
          </div>
        </section>
      </section>

      <!-- ------------- Slide 7 ------------------ -->
      <section>
        <section>
          <h2>Results</h2>
        </section>

        <section>
          <h2>TRACK B: DRL-MODEL TRAINING</h2>
          <div class="classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Variants evaluated</div>
                <i>lsac_original</i> <br> Default InterpE2E Config <br>
                <i>lsac_params1</i> | <i>lsac_params2</i> <br> Replay Buffer, Sequence, Batches, Target update <br>
                <i>lsac_params3</i> | <i>lsac_params4</i> <br> Trained on route-specific navigation segments<br>
              </div>  
            </div>
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Post-Training Metrics</div>
                <table class="styled-table">
                  <thead>
                    <tr>
                      <th>Variant</th>
                      <th>Avg Return</th>
                      <th>Avg Route Completion (%)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>lsac_original</td>
                      <td>229.6</td>
                      <td>25.0</td>
                    </tr>
                    <tr>
                      <td>params1</td>
                      <td>217.5</td>
                      <td>37.0</td>
                    </tr>
                    <tr>
                      <td>params2</td>
                      <td>140.3</td>
                      <td>19.0</td>
                    </tr>
                    <tr>
                      <td>params3</td>
                      <td>195.2</td>
                      <td>26.0</td>
                    </tr>
                    <tr>
                      <td><strong>params4</strong></td>
                      <td><strong>267.1</strong></td>
                      <td><strong>42.0</strong></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="classical-grid" style="margin-bottom: 1%;">
              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Reconstruction error for bird‚Äôs-eye-view input.</div>
                  <img src="assets/plots/reconstruction_error_birdeye Comparison_1M.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>

              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Actor loss trend over training steps.</div><br>
                  <img src="assets/plots/actor_loss Comparison_1M.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>

              <div class="classical-column" style="margin-bottom: 0%;">
                <div class="block-content">
                  <div class="block-title">üìå Average episode return (evaluation policy).</div>
                  <img src="assets/plots/AverageReturnEvalPolicy Comparison_1M.png" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
                </div>
              </div>
            </div>
        </section>

        <section>
          <h2>Planners performance on route</h2>
          <div class="classical-grid" style="margin-bottom: 0%; gap: 3%;">
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå TRACK A: APOLLO EM PLANNER</div>
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="1">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>96 <small>¬±2</small></td>
                      <td>100</td>
                      <td>0.96 <small>¬±0.05</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>98 <small>¬±1</small></td>
                      <td>100</td>
                      <td>0.98 <small>¬±0.01</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>98 <small>¬±0</small></td>
                      <td>100</td>
                      <td>0.98 <small>¬±0.01</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>100 <small>¬±0</small></td>
                      <td>100</td>
                      <td>1.00 <small>¬±0.00</small></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">         
              <div class="block-content">
                <div class="block-title">üìå TRACK B: DRL-PLANNER PLANNER</div>
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="1">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>16 <small>¬±6</small></td>
                      <td>30 <small>¬±7</small></td>
                      <td>0.53 <small>¬±0.16</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>27 <small>¬±4</small></td>
                      <td>46 <small>¬±5</small></td>
                      <td>0.58 <small>¬±0.14</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>26 <small>¬±8</small></td>
                      <td>44 <small>¬±6</small></td>
                      <td>0.60 <small>¬±0.25</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>36 <small>¬±11</small></td>
                      <td>60 <small>¬±4</small></td>
                      <td>0.60 <small>¬±0.09</small></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå TRACK C: IL-PLANNER PLANNER</div>
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="1">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>54 <small>¬±4</small></td>
                      <td>70 <small>¬±5</small></td>
                      <td>0.76 <small>¬±0.04</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>66 <small>¬±3</small></td>
                      <td>82 <small>¬±3</small></td>
                      <td>0.80 <small>¬±0.02</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>61 <small>¬±3</small></td>
                      <td>78 <small>¬±4</small></td>
                      <td>0.77 <small>¬±0.03</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>84 <small>¬±5</small></td>
                      <td>100 <small>¬±2</small></td>
                      <td>0.84 <small>¬±0.01</small></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <p style="margin: 0%; padding: 0;" class="fragment" data-fragment-index="1"><i>ROUTE A</i></p>
          <hr style="
            border: none;
            height: 2px;
            background: linear-gradient(to right, transparent, #CD5B45, transparent);
            margin: 10px auto;
            width: 100%;
          ">
          <!-- <p style="margin: 0%; padding: 0;"><i>ROUTE B</i></p> -->

          <div class="classical-grid" style="margin-bottom: 1%; gap: 3%;">
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="2">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>49 <small>¬±3</small></td>
                      <td>56 <small>¬±4</small></td>
                      <td>0.87 <small>¬±0.02</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>68 <small>¬±2</small></td>
                      <td>75 <small>¬±2</small></td>
                      <td>0.91 <small>¬±0.01</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>57 <small>¬±2</small></td>
                      <td>64 <small>¬±3</small></td>
                      <td>0.88 <small>¬±0.02</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>89 <small>¬±3</small></td>
                      <td>100 <small>¬±2</small></td>
                      <td>0.89 <small>¬±0.01</small></td>
                    </tr>
                  </tbody>
                </table>    
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">         
              <div class="block-content">
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="2">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>21 <small>¬±6</small></td>
                      <td>38 <small>¬±6</small></td>
                      <td>0.55 <small>¬±0.05</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>30 <small>¬±4</small></td>
                      <td>53 <small>¬±4</small></td>
                      <td>0.56 <small>¬±0.03</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>13 <small>¬±7</small></td>
                      <td>25 <small>¬±7</small></td>
                      <td>0.50 <small>¬±0.06</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>22 <small>¬±5</small></td>
                      <td>40 <small>¬±5</small></td>
                      <td>0.54 <small>¬±0.04</small></td>
                    </tr>
                  </tbody>
                </table>    
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <table class="fragment styled-table" style="width: 100%;" data-fragment-index="2">
                  <thead>
                    <tr>
                      <th>Segment</th>
                      <th>DS ‚Üë</th>
                      <th>RC ‚Üë</th>
                      <th>IS ‚Üë</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Initial Point</td>
                      <td>58 <small>¬±5</small></td>
                      <td>68 <small>¬±6</small></td>
                      <td>0.85 <small>¬±0.04</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 1</td>
                      <td>64 <small>¬±4</small></td>
                      <td>75 <small>¬±5</small></td>
                      <td>0.85 <small>¬±0.03</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 2</td>
                      <td>70 <small>¬±3</small></td>
                      <td>80 <small>¬±3</small></td>
                      <td>0.88 <small>¬±0.02</small></td>
                    </tr>
                    <tr>
                      <td>Checkpoint 3</td>
                      <td>91 <small>¬±4</small></td>
                      <td>100 <small>¬±2</small></td>
                      <td>0.91 <small>¬±0.06</small></td>
                    </tr>
                  </tbody>
                </table>    
              </div>
            </div>
          </div>

          <p style="margin: 0%; padding: 0;" class="fragment" data-fragment-index="2"><i>ROUTE B</i></p>
        </section>

        <section>
          <h2> APOLLO SYSTEM LEVEL Evaluation</h2>
          <table class="styled-table" style="width: 100%; text-align: center;">
            <thead>
              <tr>
                <th>Planner</th>
                <th>Planning Cycle (ms)</th>
                <th>Success Rate (%)</th>
                <th>Control Latency (ms)</th>
                <th>PAD Ready Uptime (%)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>EM Planner</td>
                <td>69</td> <!-- avg(102, 36) -->
                <td>84.2</td> <!-- avg(99.7, 68.7) -->
                <td>11</td>
                <td>99.0</td>
              </tr>
              <tr>
                <td>DRL Planner</td>
                <td>95.5</td> <!-- avg(97, 94) -->
                <td>63.6</td>
                <td>25</td>
                <td>72.4</td>
              </tr>
              <tr>
                <td>IL Planner</td>
                <td>681 <small>¬±450</small></td>
                <td>91.4</td>
                <td>22</td>
                <td>88.7</td>
              </tr>
            </tbody>
          </table>
        </section>

      </section>

      <!-- ------------- Slide 7 ------------------ -->
      <section>
        <section>
          <h2>Analysis & Discussion</h2>
        </section>

        <section>
          <h3>Planners Performance Summary</h3>
          <div class="block-content">
            <div class="block-title">üìå Metrics averaged across all route segments for each planner</div>
            <table class="styled-table">
              <thead>
                <tr>
                  <th>Planner</th>
                  <th>DS ‚Üë</th>
                  <th>RC ‚Üë</th>
                  <th>IS ‚Üë</th>
                  <th>Veh ‚Üì</th>
                  <th>Stat ‚Üì</th>
                  <th>Red ‚Üì</th>
                  <th>Dev ‚Üì</th>
                  <th>TD ‚Üì</th>
                  <th>AS ‚Üë</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>EM Planner</strong></td>
                  <td><strong>81.88</strong></td>
                  <td><strong>86.88</strong></td>
                  <td><strong>0.93</strong></td>
                  <td>0.17</td>
                  <td><strong>0.02</strong></td>
                  <td>0.19</td>
                  <td>0.12</td>
                  <td>3.34</td>
                  <td>19.69</td>
                </tr>
                <tr>
                  <td><strong>DRL Planner</strong></td>
                  <td>23.88</td>
                  <td>42.00</td>
                  <td>0.56</td>
                  <td>0.39</td>
                  <td>0.27</td>
                  <td>0.42</td>
                  <td>0.31</td>
                  <td><strong>1.89</strong></td>
                  <td><strong>26.14</strong></td>
                </tr>
                <tr>
                  <td><strong>IL Planner</strong></td>
                  <td>70.75</td>
                  <td>80.75</td>
                  <td>0.87</td>
                  <td><strong>0.13</strong></td>
                  <td>0.05</td>
                  <td><strong>0.09</strong></td>
                  <td><strong>0.11</strong></td>
                  <td>2.26</td>
                  <td>22.55</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <section>
          <h3>Planners Performance Summary</h3>

          
          <div class="classical-grid" style="margin-bottom: 1%;">
            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Route Completion vs. Deviation</div>
                <img src="assets/analysis/RC_vs_Dev.jpg" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
              </div>
              <div class="block-content">
                <div class="block-title">üìå Safety vs Compliance Radar</div>
                <img src="assets/analysis/safety_vs_compliance.jpg" alt="Apollo Stack Diagram" style="max-width: 88%; height: auto; margin: 0%;" />
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Driving Score vs. Average Speed</div>
                <img src="assets/analysis/DS_vs_AS.jpg" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
              </div>
              <div class="block-content">
                <div class="block-title">üìå Infraction Breakdown Bars</div>
                <img src="assets/analysis/breakdown.jpg" alt="Apollo Stack Diagram" style="max-width: 100%; height: auto; margin: 0%;" />
              </div>
            </div>

            <div class="classical-column" style="margin-bottom: 0%;">
              <div class="block-content">
                <div class="block-title">üìå Driving Quality Radar</div>
                <img src="assets/analysis/driving_quality.jpg" alt="Apollo Stack Diagram" style="max-width: 88%; height: auto; margin: 0%;" />
              </div>
              <div class="block-content">
                <div class="block-title">üìå Composite Planner Comparison</div>
                <img src="assets/analysis/composite_metric.jpg" alt="Apollo Stack Diagram" style="max-width: 88%; height: auto; margin: 0%;" />
              </div>
            </div>
          </div>
        </section>

      </section>

      <!-- ------------- Slide 8 ------------------ -->
      <section>
        <section>
          <h2>Conclusions</h2>
           
          <ul class="fragment items">
            <li><b>Project Goals Successfully Addressed</b></li>
            <ul class="fragment items">
              <li><i>Developed AI-based planners.</i></li>
              <ul class="items">
                <li>DRL planner (Latent SAC) and IL planner (TransFuser++).</li>
              </ul>
              <li><i>Integrate AI-based planners into Apollo framework.</i></li>
              <ul class=" items">
                <li>Real-time closed-loop operation via CyberRT bridge.</li>
              </ul>
            <li><i>Scenario testing in CARLA</i>:</li>
              <ul class="items">
                <li>Town01 and Town03 designed with intersections, occlusions, dynamic traffic.</li>
              </ul>
            <li><i>Comprehensive evaluation</i>:</li>
              <ul class="items">
                <li>Compared trajectory, safety, efficiency, and system-level metrics.</li>
              </ul>
            <li><i>Methodology Development</i>:</li>
              <ul class="items">
                <li>A structures methodology to integrate learned-based planners into modularized frameworks.</li>
              </ul>
            </ul>
            <li><b>Key Takeaways</b></li>
            <ul class="fragment items">
                <li><i>IL planner</i>: Stable and rule-compliant, but not yet fully deployment-ready.</li>
                <li><i>DRL planner</i>: Reactive and generalizable, but unstable and sample-inefficient.</li>
                <li><i>EM planner</i>: Still best for robustness and predictable behavior.</li>
            </ul>
          </ul>
        </section>

        <section>
          <h2>Future Work and System Limitations</h2>
           
          <ul class="fragment items">
            <li><b>Identified Limitations</b></li>
            <ul class="fragment items">
                <li>DRL convergence incomplete (possibly needs +10M steps).</li>
                <li>DRL and IL planners underperform in complex interaction scenarios.</li>
                <li>Tight Apollo integration challenges: validation, timing, rigidity.</li>
            </ul>
            <li><b>Future Research Directions</b></li>
            <ul class="fragment items">
                <li><i>Expand input modalities</i> using Apollo‚Äôs semantic and prediction layers.</li>
                <li><i>Hybrid planners</i>, combine DRL/IL with EM for safe & adaptive planning.</li>
                <li><i>Extended training</i> using curriculum learning and domain randomization.</li>
                <li><i>Apply learning to other modules</i>, e.g., scenario deciders.</li>
                <li><i>Bridge sim-to-real gap</i> with real-world datasets or hardware-in-the-loop testing.</li>
            </ul>
          </ul>
        </section>

        <section>
          <h2>Final Remarks</h2>
            <p style="text-align: justify; font-size: 70%;">This work achieved a modular integration of DRL and IL planners into the Apollo framework, <span class="fragment highlight-blue">bridging academic learning-based methods with an industry-grade autonomous driving stack</span>. While end-to-end learning models receive significant attention, this study emphasizes <span class="fragment highlight-red">hybrid approaches as a practical and robust option, balancing adaptability with safety and interpretability</span>. Although DRL and IL are not yet replacements for classical planning systems, their careful integration can help to <span class="fragment highlight-blue">improve perception, reactivity, and context-aware decision-making within modern AV architectures</span>.</p>
        </section>
      </section>

      <!-- ------------- Slide 9 ------------------ -->
      <section>
        <h2>Acknowledgments</h2>
      </section>

      <!-- ------------- Cover ------------------ -->
      <div class="slides">
      <!-- ------------- Cover ------------------ -->
      <section data-transition="zoom" data-auto-width data-auto-height>
        <div style="display: flex; justify-content: space-around; align-items: center; margin-bottom: 20px;">
          <img src="assets/Logos/URV.png" alt="URV" style="max-width: 25%; height: auto;" />
          <img src="assets/Logos/UB.png" alt="UB" style="max-width: 25%; height: auto;" />
          <img src="assets/Logos/UPC.png" alt="UPC" style="max-width: 25%; height: auto;" />
        </div>

        <h3 class="fragment" style="color: #79b6c9; margin-bottom: 0%;" data-fragment-index="0">FROM RULES TO REWARDS</h3>
        <h2 class="fragment" data-fragment-index="0">AI PATH PLANNING FOR AUTONOMOUS DRIVING WITHIN THE CARLA-APOLLO FRAMEWORK</h2>
        <p style="font-size: 30px;">MASTER IN ARTIFICIAL INTELLIGENCE | MARIO ROSAS OTERO</p>
        <p style="font-size: 20px;">Supervised by: Axel Brando (BSC-CNS) & Enrico Mezzetti (BSC-CNS) |  Tutor: Miquel Moret√≥ (UPC) </p>

        <img src="assets/Logos/BSC-blue-large.png" alt="URV" style="max-width: 25%; height: auto; margin-top: 0%;" />
        
      </section>



      <script src="dist/reveal.js"></script>
      <script src="plugin/notes/notes.js"></script>
      <script src="plugin/markdown/markdown.js"></script>
      <script src="plugin/highlight/highlight.js"></script>
      <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
          hash: true,
          //height:1000,
          margin:0.02,
          //width:1300,
          slideNumber: true,

          // Learn about plugins: https://revealjs.com/plugins/
          plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
        Reveal.addEventListener('fragmentshown', function(event) {
          if (event.fragment.id === "apollo-image") {
            const table = document.getElementById("apollo-table");
            if (table) table.style.display = "none";
          }
        });

        Reveal.addEventListener('fragmenthidden', function(event) {
          if (event.fragment.id === "apollo-image") {
            const table = document.getElementById("apollo-table");
            if (table) table.style.display = ""; // Reset display so it's visible again
          }
        });;
      </script>
</body>

</html>
